# workers.properties
# file generated by Chef for node: <%= node[:fqdn] %> (<%= node[:ipaddress] %>)

worker.list=loadbalancer

### Tomcat workers

<%
@tomcat_workers.each do |worker_name, worker_params|
  worker_params.each do |param,value|
-%>
worker.<%=worker_name%>.<%=param%>=<%=value%>
<%
  end # worker_name
-%>
## 
<%
end # tomcat_workers
-%>

### Loadbalancer
<%
workers = []
workers = workers + @loadbalancer[:balance_workers] if @loadbalancer[:balance_workers]
workers = workers + @loadbalancer[:added_workers] if @loadbalancer[:added_workers]
workers = workers.join(',')
-%>
worker.loadbalancer.type=lb
worker.loadbalancer.balance_workers=<%=workers%>

## eof
